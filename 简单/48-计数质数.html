<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* 计数质数
            统计所有小于非负整数 n 的质数的数量。

            示例:

            输入: 10
            输出: 4
            解释: 小于 10 的质数一共有 4 个, 它们是 2, 3, 5, 7 11 13 17 19 23 29。

        */
        /**
        * @param {number} n
        * @return {number}
        */
        // 法一
        var countPrimes = function (n) {
            let count = 0
            for(let i = 2; i < n; i++){
                if(isPrim(i)) count++
            }
            return count
        };
        function isPrim(n){
            for(let i = 2; i < n; i++){
                if(n % i === 0){
                    return false
                }
            }
            return true
        }

        // 法二
        // 每一个数的倍数肯定不是质数
        var countPrimes = function(n){
            let isPrim = new Array(n).fill(true)
            for(let i = 2; i * i < n; i++){
                if(isPrim[i]){
                    // i*i前面的数已经被之前的循环排除了
                    for(let j = i * i; j < n; j+= i){
                        isPrim[j] = false
                    }
                }
            }
            let count = 0
            for(let i = 2; i < n; i++){
                if(isPrim[i]) count++
            }
            return count
        }
        console.log(countPrimes(10))
    </script>
</body>

</html>