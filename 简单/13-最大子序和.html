<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
        最大子序和
        给定一个整数数组 nums ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。

        示例:

        输入: [-2,1,-3,4,-1,2,1,-5,4],
        输出: 6
        解释: 连续子数组 [4,-1,2,1] 的和最大，为 6。
        */
      /**
       * @param {number[]} nums
       * @return {number}
       */
      /**
       方法一，新增一个变量maxSum保存最大和，双层循环，外层循环从索引0开始遍历数组，
       设置和sum为当前数值，内层循环从外层索引+1开始累加和及当前值，若累加值大于
       当前最大和，则赋值给当前最大和。循环结束返回最大和
      */
       var maxSubArray = function(nums) {
        let maxSum = 0;
        for (let i = 0; i < nums.length; i++) {
          let sum = nums[i];
          for (let j = i + 1; j < nums.length; j++) {
            sum += nums[j];
            if (sum > maxSum) {
              maxSum = sum;
            }
          }
        }
        return maxSum;
      };
      /**
       * 方法二，新增变量保存当前和及最大值，均初始化为数组第一项，遍历数组，
       * 比较遍历到的当前值和当前值加当前和的大小，取较大值赋值给当前和，
       * 再比较当前和和最大和的大小，取较大值赋值给最大和，循环结束后返回最大和
       */
      var maxSubArray = function(nums) {
        let n = nums.length;
        let maxNum = nums[0];
        let curNum = nums[0];
        for (let i = 1; i < n; i++) {
          curNum = Math.max(nums[i], curNum + nums[i]);
          maxNum = Math.max(curNum, maxNum);
        }
        return maxNum;
      };
      /**
       * 方法三,新增变量保存最大和，初始化为数组第一项，遍历数组，
       * 若当前值的前一项大于0，则将其与当前值进行累加，然后比较当
       * 前值和最大和的大小，取较大值赋值给最大和，循环结束后返回最大和
       */ 
      var maxSubArray = function(nums) {
        let n = nums.length;
        let maxNum = nums[0];
        for (let i = 1; i < n; ++i) {
          if (nums[i - 1] > 0) nums[i] += nums[i - 1];
          maxNum = Math.max(nums[i], maxNum);
        }
        return maxNum
      };
      console.log(maxSubArray([-2, 1, -3, 4, -1, 2, 1, -5, 4]));
    </script>
  </body>
</html>
