<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
        删除排序数组中的重复项
        给定一个排序数组，你需要在 原地 删除重复出现的元素，使得每个元素只出现一次，返回移除后数组的新长度。
        不要使用额外的数组空间，你必须在 原地 修改输入数组 并在使用 O(1) 额外空间的条件下完成。
        */
      /**
       * @param {number[]} nums
       * @return {number}
       */
      //    方法一
      var removeDuplicates = function(nums) {
        if (nums === null || nums.length === 0) return 0;
        let p = 0;
        let q = 1;
        while (q < nums.length) {
          //  若指针q所在位置的数字不等于指针p所在的数字，则将指针q所在位置的数字赋值给指针p+1所在的数字,p和q指针同时后移一位
          if (nums[p] !== nums[q]) {
            // 若q-p = 1的话会造成重复赋值
            if (q - p > 1) {
              nums[p + 1] = nums[q];
            }
            p++;
          }
          //   若指针q所在位置的数字等于指针p所在的数字 ，则q指针后移，但p指针不移动
          q++;
        }
        return p + 1;
      };
      //   方法二
      var removeDuplicates = function(nums) {
        if (nums === null || nums.length === 0) return 0;
        let i = 0;
        for (let j = 1; j < nums.length; j++) {
          if (nums[j] !== nums[i]) {
            i++;
            nums[i] = nums[j];
          }
        }
        return i + 1;
      };
      console.log(removeDuplicates([1, 1, 2]));
    </script>
  </body>
</html>
