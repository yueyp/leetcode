<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
            外观数列
            「外观数列」是一个整数序列，从数字 1 开始，序列中的每一项都是对前一项的描述。前五项如下：
            1.     1
            2.     11
            3.     21
            4.     1211
            5.     111221
            6.     312211
            1 被读作  "one 1"  ("一个一") , 即 11。
            11 被读作 "two 1s" ("两个一"）, 即 21。
            21 被读作 "one 2",  "one 1" （"一个二" ,  "一个一") , 即 1211。

            给定一个正整数 n（1 ≤ n ≤ 30），输出外观数列的第 n 项。

            注意：整数序列中的每一项将表示为一个字符串。
        */
      /**
       * @param {number} n
       * @return {string}
       */
      var countAndSay = function(n) {
        let s = "1";
        if (n === 1) return s;
        while (n > 1) {
          let s1 = "";
          let len = s.length;
          for (let i = 0; i < len; i++) {
            let j = i + 1;
            let len1 = 1;
            for (j; j < len; j++) {
              if (s[j] !== s[i]) {
                break;
              } else {
                len1++;
              }
            }
            s1 += len1 + "" + s[i];
            if (len1 > 1) {
              i += len1 - 1;
            }
          }
          s = s1;
          n--;
        }
        return s;
      };
      //   方法二
      var countAndSay = function(n) {
        let prev = "1";
        for (let i = 1; i < n; i++) {
          prev = prev.replace(/(\d)\1*/g, item => `${item.length}${item[0]}`);
        }
        return prev;
      };
      console.log(countAndSay(6));
    </script>
  </body>
</html>
