<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        你总共有 n 枚硬币，你需要将它们摆成一个阶梯形状，第 k 行就必须正好有 k 枚硬币。

        给定一个数字 n，找出可形成完整阶梯行的总行数。

        n 是一个非负整数，并且在32位有符号整型的范围内。
        */
        /**
        * @param {number} n
        * @return {number}
        */
        var arrangeCoins = function (n) {
            let sum = 0
            for (let index = 1; index <= n; index++) {
                if (n < sum + index) {
                    return n === sum + index ? index : index - 1
                } else {
                    sum += index
                }
            }
            return sum
        };

        // 二分法
        var arrangeCoins = function (n) {
            if (n == 0) {
                return 0;
            }
            var left = 0;
            // 只有 n 个硬币的情况下，最大肯定不会超过 n 行，所以这里把搜索的右侧界限定为 n
            var right = n;
            while (left <= right) {
                var mid = left + ((right - left) >> 1);
                // 形成 mid 行的阶梯一共需要 costToFinishMid 个硬币，这里是数学公式
                var costToFinishMid = (1 + mid) * mid / 2;
                if (costToFinishMid == n) {
                    return mid;
                } else if (costToFinishMid < n) {
                    left = mid + 1;
                } else if (costToFinishMid > n) {
                    right = mid - 1;
                }
            }
            // 按照上述这种写法，right 在这里指向距离 target 最近的左侧元素的位置
            return right;
        };
    </script>
</body>
</html>